(function(c){c.address=function(){var q=function(a){c(c.address).trigger(c.extend(c.Event(a),function(){for(var b={},e=c.address.parameterNames(),l=0,p=e.length;l<p;l++)b[e[l]]=c.address.parameter(e[l]);return{value:c.address.value(),path:c.address.path(),pathNames:c.address.pathNames(),parameterNames:e,parameters:b,queryString:c.address.queryString()}}.call(c.address)))},s=function(a){return Array.prototype.slice.call(a)},g=function(){c().bind.apply(c(c.address),Array.prototype.slice.call(arguments));
return c.address},F=function(){return y.pushState&&d.state!==j},U=function(){return("/"+h.pathname.replace(new RegExp(d.state),"")+h.search+(G()?"#"+G():"")).replace(T,"/")},G=function(){var a=h.href.indexOf("#");return a!=-1?w(h.href.substr(a+1),m):""},t=function(){return F()?U():G()},V=function(){return"javascript"},M=function(a){a=a.toString();return(d.strict&&a.substr(0,1)!="/"?"/":"")+a},w=function(a,b){if(d.crawlable&&b)return(a!==""?"!":"")+a;return a.replace(/^\!/,"")},u=function(a,b){return parseInt(a.css(b),
10)},C=function(){if(!H){var a=t();if(f!=a)if(z&&A<7)h.reload();else{z&&!I&&d.history&&r(N,50);f=a;B(m)}}},B=function(a){q(W);q(a?X:Y);r(fa,10)},fa=function(){if(d.tracker!=="null"&&d.tracker!==null){var a=c.isFunction(d.tracker)?d.tracker:i[d.tracker],b=(h.pathname+h.search+(c.address&&!F()?c.address.value():"")).replace(/\/\//,"/").replace(/^\/$/,"");if(c.isFunction(a))a(b);else if(c.isFunction(i.urchinTracker))i.urchinTracker(b);else if(i.pageTracker!==j&&c.isFunction(i.pageTracker._trackPageview))i.pageTracker._trackPageview(b);
else i._gaq!==j&&c.isFunction(i._gaq.push)&&i._gaq.push(["_trackPageview",decodeURI(b)])}},N=function(){var a=V()+":"+m+";document.open();document.writeln('<html><head><title>"+n.title.replace(/\'/g,"\\'")+"</title><script>var "+x+' = "'+t()+(n.domain!=h.hostname?'";document.domain="'+n.domain:"")+"\";<\/script></head></html>');document.close();";if(A<7)k.src=a;else k.contentWindow.location.replace(a)},$=function(){if(D&&Z!=-1){var a,b,e=D.substr(Z+1).split("&");for(a=0;a<e.length;a++){b=e[a].split("=");
if(/^(autoUpdate|crawlable|history|strict|wrap)$/.test(b[0]))d[b[0]]=isNaN(b[1])?/^(true|yes)$/i.test(b[1]):parseInt(b[1],10)!==0;if(/^(state|tracker)$/.test(b[0]))d[b[0]]=b[1]}D=null}f=t()},ba=function(){if(!aa){aa=o;$();var a=function(){ga.call(this);ha.call(this)},b=c("body").ajaxComplete(a);a();if(d.wrap){c("body > *").wrapAll('<div style="padding:'+(u(b,"marginTop")+u(b,"paddingTop"))+"px "+(u(b,"marginRight")+u(b,"paddingRight"))+"px "+(u(b,"marginBottom")+u(b,"paddingBottom"))+"px "+(u(b,"marginLeft")+
u(b,"paddingLeft"))+'px;" />').parent().wrap('<div id="'+x+'" style="height:100%;overflow:auto;position:relative;'+(J&&!window.statusbar.visible?"resize:both;":"")+'" />');c("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"});J&&c('<style type="text/css" />').appendTo("head").text("#"+x+"::-webkit-resizer { background-color: #fff; }")}if(z&&!I){a=n.getElementsByTagName("frameset")[0];k=n.createElement((a?"":"i")+"frame");k.src=V()+":"+m;if(a){a.insertAdjacentElement("beforeEnd",
k);a[a.cols?"cols":"rows"]+=",0";k.noResize=o;k.frameBorder=k.frameSpacing=0}else{k.style.display="none";k.style.width=k.style.height=0;k.tabIndex=-1;n.body.insertAdjacentElement("afterBegin",k)}r(function(){c(k).bind("load",function(){var e=k.contentWindow;f=e[x]!==j?e[x]:"";if(f!=t()){B(m);h.hash=w(f,o)}});k.contentWindow[x]===j&&N()},50)}r(function(){q("init");B(m)},1);if(!F())if(I)if(i.addEventListener)i.addEventListener(E,C,m);else i.attachEvent&&i.attachEvent("on"+E,C);else ia(C,50)}},ga=function(){var a,
b=c("a"),e=b.size(),l=-1,p=function(){if(++l!=e){a=c(b.get(l));a.is('[rel*="address:"]')&&a.address('[rel*="address:"]');r(p,1)}};r(p,1)},ha=function(){if(d.crawlable){var a=h.pathname.replace(/\/$/,"");c("body").html().indexOf("_escaped_fragment_")!=-1&&c('a[href]:not([href^=http]), a[href*="'+document.domain+'"]').each(function(){var b=c(this).attr("href").replace(/^http:/,"").replace(new RegExp(a+"/?$"),"");if(b===""||b.indexOf("_escaped_fragment_")!=-1)c(this).attr("href","#"+encodeURI(decodeURIComponent(b.replace(/\/(.*)\?_escaped_fragment_=(.*)$/)),
"!$2"))})}},j,x="jQueryAddress",E="hashchange",W="change",X="internalChange",Y="externalChange",o=true,m=false,d={autoUpdate:o,crawlable:m,history:o,strict:o,wrap:m},K=c.browser,A=parseFloat(K.version),z=!c.support.opacity,J=K.webkit||K.safari,i=function(){try{return top.document!==j?top:window}catch(a){return window}}(),n=i.document,y=i.history,h=i.location,ia=setInterval,r=setTimeout,T=/\/{2,9}/g,ca=navigator.userAgent,I="on"+E in i,k,D=c("script:last").attr("src"),Z=D?D.indexOf("?"):-1,O=n.title,
H=m,aa=m,P=o,da=o,L=m,f=t();if(z){A=parseFloat(ca.substr(ca.indexOf("MSIE")+4));if(n.documentMode&&n.documentMode!=A)A=n.documentMode!=8?7:8;var ea=n.onpropertychange;n.onpropertychange=function(){ea&&ea.call(n);if(n.title!=O&&n.title.indexOf("#"+t())!=-1)n.title=O}}if(y.navigationMode)y.navigationMode="compatible";if(document.readyState=="complete")var ja=setInterval(function(){if(c.address){ba();clearInterval(ja)}},50);else{$();c(ba)}c(window).bind("popstate",function(){if(f!=t()){f=t();B(m)}}).bind("unload",
function(){if(i.removeEventListener)i.removeEventListener(E,C,m);else i.detachEvent&&i.detachEvent("on"+E,C)});return{bind:function(){return g.apply(this,s(arguments))},init:function(){return g.apply(this,["init"].concat(s(arguments)))},change:function(){return g.apply(this,[W].concat(s(arguments)))},internalChange:function(){return g.apply(this,[X].concat(s(arguments)))},externalChange:function(){return g.apply(this,[Y].concat(s(arguments)))},baseURL:function(){var a=h.href;if(a.indexOf("#")!=-1)a=
a.substr(0,a.indexOf("#"));if(/\/$/.test(a))a=a.substr(0,a.length-1);return a},autoUpdate:function(a){if(a!==j){d.autoUpdate=a;return this}return d.autoUpdate},crawlable:function(a){if(a!==j){d.crawlable=a;return this}return d.crawlable},history:function(a){if(a!==j){d.history=a;return this}return d.history},state:function(a){if(a!==j){d.state=a;var b=U();if(d.state!==j)if(y.pushState)b.substr(0,3)=="/#/"&&h.replace(d.state.replace(/^\/$/,"")+b.substr(2));else b!="/"&&b.replace(/^\/#/,"")!=G()&&r(function(){h.replace(d.state.replace(/^\/$/,
"")+"/#"+b)},1);return this}return d.state},strict:function(a){if(a!==j){d.strict=a;return this}return d.strict},tracker:function(a){if(a!==j){d.tracker=a;return this}return d.tracker},wrap:function(a){if(a!==j){d.wrap=a;return this}return d.wrap},update:function(){L=o;this.value(f);L=m;return this},title:function(a){if(a!==j){r(function(){O=n.title=a;if(da&&k&&k.contentWindow&&k.contentWindow.document){k.contentWindow.document.title=a;da=m}if(!P&&K.mozilla)h.replace(h.href.indexOf("#")!=-1?h.href:
h.href+"#");P=m},50);return this}return n.title},value:function(a){if(a!==j){a=M(a);if(a=="/")a="";if(f==a&&!L)return;P=o;f=a;if(d.autoUpdate||L){B(o);if(F())y[d.history?"pushState":"replaceState"]({},"",d.state.replace(/\/$/,"")+(f===""?"/":f));else{H=o;if(J)if(d.history)h.hash="#"+w(f,o);else h.replace("#"+w(f,o));else if(f!=t())if(d.history)h.hash="#"+w(f,o);else h.replace("#"+w(f,o));z&&!I&&d.history&&r(N,50);if(J)r(function(){H=m},1);else H=m}}return this}return M(f)},path:function(a){if(a!==
j){var b=this.queryString(),e=this.hash();this.value(a+(b?"?"+b:"")+(e?"#"+e:""));return this}return M(f).split("#")[0].split("?")[0]},pathNames:function(){var a=this.path(),b=a.replace(T,"/").split("/");if(a.substr(0,1)=="/"||a.length===0)b.splice(0,1);a.substr(a.length-1,1)=="/"&&b.splice(b.length-1,1);return b},queryString:function(a){if(a!==j){var b=this.hash();this.value(this.path()+(a?"?"+a:"")+(b?"#"+b:""));return this}a=f.split("?");return a.slice(1,a.length).join("?").split("#")[0]},parameter:function(a,
b,e){var l,p;if(b!==j){var Q=this.parameterNames();p=[];b=b?b.toString():"";for(l=0;l<Q.length;l++){var R=Q[l],v=this.parameter(R);if(typeof v=="string")v=[v];if(R==a)v=b===null||b===""?[]:e?v.concat([b]):[b];for(var S=0;S<v.length;S++)p.push(R+"="+v[S])}c.inArray(a,Q)==-1&&b!==null&&b!==""&&p.push(a+"="+b);this.queryString(p.join("&"));return this}if(b=this.queryString()){e=[];p=b.split("&");for(l=0;l<p.length;l++){b=p[l].split("=");b[0]==a&&e.push(b.slice(1).join("="))}if(e.length!==0)return e.length!=
1?e:e[0]}},parameterNames:function(){var a=this.queryString(),b=[];if(a&&a.indexOf("=")!=-1){a=a.split("&");for(var e=0;e<a.length;e++){var l=a[e].split("=")[0];c.inArray(l,b)==-1&&b.push(l)}}return b},hash:function(a){if(a!==j){this.value(f.split("#")[0]+(a?"#"+a:""));return this}a=f.split("#");return a.slice(1,a.length).join("#")}}}();c.fn.address=function(q){var s;if(typeof q=="string"){s=q;q=undefined}c(this).attr("address")||c(s?s:this).live("click",function(g){if(g.shiftKey||g.ctrlKey||g.metaKey||
g.which==2)return true;if(c(this).is("a")){g.preventDefault();g=q?q.call(this):/address:/.test(c(this).attr("rel"))?c(this).attr("rel").split("address:")[1].split(" ")[0]:c.address.state()!==undefined&&!/^\/?$/.test(c.address.state())?c(this).attr("href").replace(new RegExp("^(.*"+c.address.state()+"|\\.)"),""):c(this).attr("href").replace(/^(#\!?|\.)/,"");c.address.value(g)}}).live("submit",function(g){if(c(this).is("form")){g.preventDefault();g=c(this).attr("action");g=q?q.call(this):(g.indexOf("?")!=
-1?g.replace(/&$/,""):g+"?")+c(this).serialize();c.address.value(g)}}).attr("address",true);return this}})(jQuery);(function(){function y(){G=!1;for(U=r;U--;){z=k[U];if(!z)break;z.isCSS||(z.cycle()?G=!0:z.stop(!1,z.complete,!1,!0))}O?G?O(y):(H(y),z=E=null):G?s||(V=setInterval(y,na)):(clearInterval(V),z=E=null);s=G}function W(a){a.cjFadeIn?(delete a.cjFadeIn,a.style.opacity=1,a.style.visibility="visible"):a.cjFadeOut&&(delete a.cjFadeOut,a.style.display="none")}function X(){s||y()}function P(a,b,c,d){k.splice(k.indexOf(a),1);r=k.length;c&&c(b,d)}function ea(a){a.stopPropagation();(a=this.cj)&&a.stop(a.complete)} function fa(a,b,c){var d={},i,b=b.to;for(i in b)b.hasOwnProperty(i)&&(d[i]=b[i]);Jacked.tween(a,d,c)}function ga(a,b){return this["webkit"+a+b]||this["moz"+a+b]||this["o"+a+b]||this[a+b]||null}function ha(a){var b;if(b=oa.exec(a))return[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16),1];if(b=pa.exec(a))return[17*parseInt(b[1],16),17*parseInt(b[2],16),17*parseInt(b[3],16),1]}function ia(){for(var a in I)if(I.hasOwnProperty(a)&&a===F){Y=I[a];break}}function qa(){if("ontouchend"in document){if(-1!== x.search("iphone")||-1!==x.search("ipad"))return"ios";if(-1!==x.search("android")||-1!==x.search("applewebkit"))return"android";if(-1!==x.search("msie"))return"winMobile"}return null}var Q=window.getComputedStyle?document.defaultView.getComputedStyle:null,O=ga("Request","AnimationFrame"),H=ga("Cancel","AnimationFrame"),t=document.createElement("span").style,x=navigator.userAgent.toLowerCase(),J="Quint.easeOut",K=500,f;f=x.search("msie");-1===f?f=[33.3,0]:(f=parseInt(x.substr(f+4,f+5),10),f=[9<=f? 16.6:33.3,f]);var k=[],l="WebkitTransition"in t?["webkitTransitionEnd","-webkit-transition",-1!==x.search("chrome")?"chrome":"safari"]:"MozTransition"in t?["transitionend","-moz-transition","firefox"]:"MSTransition"in t?["msTransitionEnd","-ms-transition","ie"]:"transition"in t?["transitionEnd","transition",null]:null,s,L,r=0,ja,F,Y,Z,V,E,G,U,$,z,aa,R,S,ba,ka,la,ra=/,/g,sa=/[A-Z]/g,ta=/ cj-tween/g,ua=/^\s+|\s+$/g,va=/{props}/,wa=/{easing}/,xa=/{duration}/,ma=/(right|bottom|center)/,pa=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/, oa=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/,I={ios:!1,android:!1,winMobile:!1,firefox:!1,chrome:!1,safari:!1,opera:!1,ie:!1},na=f[0];f=f[1];var D=0!==f&&9>f;if(!O||!H)O=H=null;if(l){var T=l[1],ca=document.createElement("style");L="WebkitTransform"in t?"WebkitTransform":"MozTransform"in t?"MozTransform":"msTransform"in t?"msTransform":"transform"in t?"transform":null;R=qa();ca.type="text/css";ca.innerHTML=".cj-tween{"+T+"-property:none !important;}";document.getElementsByTagName("head")[0].appendChild(ca); ja=T+"-property:{props};"+T+"-duration:{duration}s;"+T+"-timing-function:cubic-bezier({easing});";F=!R?l[2]:R;ka=/(chrome|opera)/.test(F);la="safari"===F||"ios"===F;l=l[0];ia()}if(D)if(8===f)aa=/(#|rgb|red|blue|green|black|white|yellow|pink|gray|grey|orange|purple)/,S=/(auto|inherit|rgb|%|#|red|blue|green|black|white|yellow|pink|gray|grey|orange|purple)/,ba={red:"#F00",blue:"#00F",green:"#0F0",black:"#000",white:"#FFF",yellow:"#FF0",pink:"#FFC0CB",gray:"#808080",grey:"#808080",orange:"#FFA500",purple:"#800080"}; else return;else aa=/(#|rgb)/,S=/(auto|inherit|rgb|%|#)/;Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var b=this.length;b--;)if(this[b]===a)return b;return-1});Date.now||(Date.now=function(){return+new Date});this.Jacked={ready:function(a){window.onload=a},setEngines:function(a){for(var b in a)I.hasOwnProperty(b)&&(I[b]=a[b]);ia()},tween:function(a,b,c){a.cj&&a.cj.stop();c||(c={});c.mode?"timeline"===c.mode||!l?new CJ(a,b,c):new CJcss(a,b,c):!l||!Y?new CJ(a,b,c):new CJcss(a,b, c)},fadeIn:function(a,b){b||(b={});b.fadeIn=!0;Jacked.tween(a,{opacity:1},b)},fadeOut:function(a,b){b||(b={});b.fadeOut=!0;Jacked.tween(a,{opacity:0},b)},percentage:function(a,b,c){a.cj&&a.cj.stop();if("from"in b&&"to"in b){c||(c={});var d=c.mode;d?"css3"===d&&l?fa(a,b,c):new CJpercentage(a,b,c):l&&Y?fa(a,b,c):new CJpercentage(a,b,c)}},special:function(a,b){a.cj&&a.cj.stop();new CJspecial(a,b)},transform:function(a,b,c,d){a.cj&&a.cj.stop();l&&L?(c||(c={}),c.mode="css3","transform"in b&&(b[L]=b.transform, delete b.transform),new Jacked.tween(a,b,c)):d&&new Jacked.tween(a,d,c)},stopTween:function(a,b,c){(a=a.cj)&&(a.isCSS?a.stop(c):a.stop(b,c))},stopAll:function(a){H?H(y):clearInterval(V);var b=k.length,c;for(r=0;b--;)c=k[b],c.isCSS?c.stop(!1,!0):c.stop(a,!1,!0,!0);k=[];s=!1;E=null},setEase:function(a){var b=a.toLowerCase().split(".");2>b.length||M[b[0]]&&M[b[0]][b[1]]&&(J=a)},setDuration:function(a){isNaN(a)||(K=a)},getMobile:function(){return R},getIE:function(){return D},getBrowser:function(){return F}, getTransition:function(){return l},getEngine:function(){return s},getTransform:function(){return L}};this.CJ=function(a,b,c){r=k.length;var d=a.cj=k[r++]=this;this.runner=function(i){d.obj=a;d.complete=c.callback;d.completeParams=c.callbackParams;if(!0===i)d.transitions=[];else{var m,i=0,g=[],e=a.style,n=c.duration||K,q=(c.ease||J).toLowerCase().split("."),q=M[q[0]][q[1]];e.visibility="visible";c.fadeIn&&(e.display=c.display||"block",e.opacity=0);D&&"opacity"in b&&(e.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+ (c.fadeIn?0:100)+")");b.borderColor&&!ka&&(e=b.borderColor,b.borderTopColor=e,b.borderRightColor=e,b.borderBottomColor=e,b.borderLeftColor=e,delete b.borderColor);for(m in b)b.hasOwnProperty(m)&&("backgroundPosition"!==m?g[i++]=d.animate(a,m,b[m],n,q):g[i++]=d.bgPosition(a,m,b[m],n,q));d.transitions=g;s?setTimeout(X,10):y()}};c.fadeOut?a.cjFadeOut=!0:c.fadeIn&&(a.cjFadeIn=!0);0===c.duration?(this.runner(!0),this.stop()):c.delay?this.delayed=setTimeout(this.runner,c.delay):this.runner()};CJ.prototype.cycle= function(){E=this.transitions;if(!E)return!0;$=E.length;for(Z=!1;$--;)E[$]()&&(Z=!0);return Z};CJ.prototype.animate=function(a,b,c,d,i){function m(){r=Date.now();da+=r-f;e=i(da,k,N,d);f=r;e=!j||D?p?e+0.5|0:e-0.5|0:e.toFixed(2);if(e===l)return!0;if(p){if(e>=c)return n[b]=u,!1}else if(e<=c)return n[b]=u,!1;l=e;n[b]=e+A;return!0}function g(){return!1}var e,n,q,j="opacity"===b,h=!0;!j||!D?(n=a.style,q=n[b],e=""!==q?q:Q?Q(a,null)[b]:a.currentStyle[b]):(n=a.filters.item("DXImageTransform.Microsoft.Alpha"), b="Opacity",e=n[b],c*=100);if(S.test(e))if(aa.test(e)){if(-1===c.search("rgb"))return D&&e in ba&&(e=ba[e]),this.color(a,b,e,c,d,i);h=!1}else e=0;else e=parseFloat(e);var A=!j?"px":0,N=c-e,p=e<c,f=Date.now(),k=e,da=0,u,l,r;u=c+A;!j||D?p?c-=0.25:c+=0.25:p?c-=0.025:c+=0.025;if(h)return m.stored=[b,u],m;g.stored=[b,u];return g};CJ.prototype.color=function(a,b,c,d,i,m){function g(){f=Date.now();N+=f-q;q=f;c=m(N,0,1,i);if(0.99>c){p=-1;for(l="rgb(";3>++p;)k=h[p],l+=k+c*(A[p]-k)|0,2>p&&(l+=",");j[b]=l+")"; return!0}j[b]=n;return!1}function e(){return!1}var n=(-1!==d.search("#")?"":"#")+d,q=Date.now(),j=a.style,a=!1,h=[],A=[],N=0,p=-1,f,k,l;if(-1!==c.search("rgb")){p=-1;for(h=c.split("(")[1].split(")")[0].split(",");3>++p;)h[p]=parseInt(h[p],10)}else h=ha(c);A=ha(d);for(p=-1;3>++p;)h[p]!==A[p]&&(a=!0);if(a)return g.stored=[b,n],g;e.stored=[b,n];return e};CJ.prototype.bgPosition=function(a,b,c,d,i){function m(){x=Date.now();A+=x-q;q=x;s=i(A,0,1,d);if(0.99>s){u&&(B=v+y*s+0.5|0);t&&(C=w+z*s+0.5|0);if(B=== k&&C===r)return!0;k=B;r=C;h?(e.backgroundPositionX=B+"px",e.backgroundPositionY=C+"px"):e.backgroundPosition=B+"px "+C+"px";return!0}h?(e.backgroundPositionX=f,e.backgroundPositionY=p):e[b]=l;return!1}function g(){return!1}var e=a.style,n=e[b],q=Date.now(),j=!0,h=D,A=0,f,p,l,k,r,u,t,y,z,s,x,B,C,v,w;if(h){v=a.currentStyle.backgroundPositionX;w=a.currentStyle.backgroundPositionY;if(ma.test(v)||ma.test(w))j=!1;"left"===v&&(v=0);"top"===w&&(w=0)}else s=""!==n?n.split(" "):Q(a,null).backgroundPosition.split(" "), v=s[0],w=s[1];-1!==v.search("%")&&"0%"!==v&&(j=!1);-1!==w.search("%")&&"0%"!==w&&(j=!1);v=parseInt(v,10);w=parseInt(w,10);c.hasOwnProperty("x")?(B=c.x,u=!0):(B=v,u=!1);c.hasOwnProperty("y")?(C=c.y,t=!0):(C=w,t=!1);u=u&&v!==B;t=t&&w!==C;!u&&!t&&(j=!1);y=B-v;z=C-w;f=B+"px";p=C+"px";l=!h?f+" "+p:[f,p];if(j)return m.stored=[b,l],m;g.stored=[b,l];return g};CJ.prototype.stop=function(a,b,c){var d=this.obj;if(d){delete d.cj;if(a)for(var a=this.transitions,i=a.length,m,g;i--;)if(m=a[i].stored,g=m[0],D)switch(g){case "Opacity":d.filters.item("DXImageTransform.Microsoft.Alpha").Opacity= 100*m[1];break;case "backgroundPosition":g=d.style;g.backgroundPositionX=m[1][0];g.backgroundPositionY=m[1][1];break;default:d.style[g]=m[1]}else d.style[g]=m[1];W(d);b&&(b=this.complete);c||P(this,d,b,this.completeParams)}else clearTimeout(this.delayed),this.runner(!0),this.stop(a,b)};this.CJcss=function(a,b,c){r=k.length;var d=a.cj=k[r++]=this,i=a.style,m=L in b;this.isCSS=!0;this.storage=a;this.complete=c.callback;this.completeParams=c.callbackParams;this.runner=function(){c.cssStep?(i.visibility= "visible",d.stepped=setTimeout(d.step,30)):d.step()};this.step=function(g){d.obj=a;if(!0===g)d.moves="";else{var e,n,q,j,h,f=0,k;k=[];var p=[],g=a.getAttribute("style")||"",r=c.duration||K,s=(c.ease||J).toLowerCase().split(".");for(n in b)if(b.hasOwnProperty(n)){q=n;if(h=q.match(sa))for(e=h.length;e--;)j=h[e],q=q.replace(RegExp(j,"g"),"-"+j.toLowerCase());j=e=b[n];h="backgroundPosition"===n;if(!S.test(j)&&"opacity"!==n&&!h&&!m)j+="px;";else if(h){j=e.x;e=e.y;h=isNaN(j);var t=isNaN(e);if(!h&&!t)j+= "px",e+="px";else{var u=i.backgroundPosition,u=""!==u?u.split(" "):Q(a,null).backgroundPosition.split(" ");!h?j+="px":j=u[0];!t?e+="px":e=u[1]}j=j+" "+e+";"}else j+=";";k[f]=q+":"+j;p[f++]=q;if(g&&(h=g.search(q),-1!==h)){q=g.length-1;for(e=h-1;++e<q&&";"!==g[e];);g=g.split(g.substring(h,e+1)).join("")}}d.moves=n=ja.replace(va,p.toString()).replace(xa,(0.001*r).toFixed(2)).replace(wa,ya[s[0]][s[1]]);k=k.toString();m||(k=k.replace(ra,""));a.className=a.className.replace(ta,"");a.addEventListener(l, ea,!1);a.setAttribute("style",g.replace(ua,"")+n+k)}};c.fadeIn?(a.cjFadeIn=!0,i.display=c.display||"block",i.opacity=0):c.fadeOut&&(a.cjFadeOut=!0);0===c.duration?(this.runner(!0),this.stop()):(c.cssStep||(i.visibility="visible"),la&&!m&&(i.webkitTransform="translate3d(0, 0, 0)",i.webkitBackfaceVisibility="hidden",i.webkitPerspective=1E3),this.delayed=c.delay?setTimeout(this.runner,30<c.delay?c.delay:30):setTimeout(this.runner,30))};CJcss.prototype.stop=function(a,b){var c=this.obj;a&&(a=this.complete); c?(delete c.cj,c.removeEventListener(l,ea,!1),c.className+=" cj-tween",c.setAttribute("style",c.getAttribute("style").split(this.moves).join(";").split(";;").join(";")),W(c)):(clearTimeout(this.delayed),clearTimeout(this.stepped),W(this.storage));b||P(this,c,a,this.completeParams)};this.CJpercentage=function(a,b,c){r=k.length;var d=a.cj=k[r++]=this;this.obj=a;this.complete=c.callback;this.completeParams=c.callbackParams;this.runner=function(){var i=0,m=[],g,e,n,k=b.to,j=b.from,h=c.duration||K,f=(c.ease|| J).toLowerCase().split("."),f=M[f[0]][f[1]];for(g in j)j.hasOwnProperty(g)&&(n=parseInt(k[g],10),e=parseInt(j[g],10),m[i++]=[n>e,g,n,e]);a.style.visibility="visible";d.transitions=d.animate(a,m,h,f);s?setTimeout(X,10):y()};0===c.duration?this.stop():c.delay?this.delayed=setTimeout(this.runner,c.delay):this.runner()};CJpercentage.prototype.cycle=function(){return this.transitions()};CJpercentage.prototype.animate=function(a,b,c,d){var i,m=0,g=Date.now(),e,f,k=a.style,j=b.length,h,l;return function(a){e= Date.now();m+=e-g;g=e;i=d(m,0,1,c);f=j;if(0.99>i&&!a){for(;f--;)h=b[f],l=h[3],k[h[1]]=h[0]?l+(h[2]-l)*i+"%":l-(l-h[2])*i+"%";return!0}for(;f--;)h=b[f],k[h[1]]=h[2]+"%";return!1}};CJpercentage.prototype.stop=function(a,b,c){"delayed"in this&&clearTimeout(this.delayed);var d=this.obj;delete d.cj;a&&this.transitions&&this.transitions(!0);b&&(b=this.complete);c||P(this,d,b,this.completeParams)};this.CJspecial=function(a,b){if(b&&b.callback){r=k.length;k[r++]=a.cj=this;var c=this.complete=b.callback,d= b.ease||J,d=d.toLowerCase().split("."),d=M[d[0]][d[1]];this.obj=a;this.transitions=this.numbers(a,b.duration||K,d,c);s?setTimeout(X,10):y()}};CJspecial.prototype.cycle=function(){return this.transitions()};CJspecial.prototype.numbers=function(a,b,c,d){var i,f=0,g=Date.now(),e;return function(){e=Date.now();f+=e-g;g=e;i=c(f,0,1,b);return 0.97>i?(d(a,i),!0):!1}};CJspecial.prototype.stop=function(a,b,c,d){var f=this.obj;f&&(delete f.cj,c||P(this),(a||d)&&this.complete(f,1,b))};var M={linear:{easenone:function(a, b,c,d){return c*a/d+b},easein:function(a,b,c,d){return c*a/d+b},easeout:function(a,b,c,d){return c*a/d+b},easeinout:function(a,b,c,d){return c*a/d+b}},quint:{easeout:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},easein:function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},easeinout:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b}},quad:{easein:function(a,b,c,d){return c*(a/=d)*a+b},easeout:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},easeinout:function(a,b,c,d){return 1>(a/= d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b}},quart:{easein:function(a,b,c,d){return c*(a/=d)*a*a*a+b},easeout:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},easeinout:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b}},cubic:{easein:function(a,b,c,d){return c*(a/=d)*a*a+b},easeout:function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},easeinout:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b}},circ:{easein:function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},easeout:function(a, b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},easeinout:function(a,b,c,d){return 1>(a/=d/2)?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b}},sine:{easein:function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},easeout:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},easeinout:function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b}},expo:{easein:function(a,b,c,d){return 0===a?b:c*Math.pow(2,10*(a/d-1))+b},easeout:function(a,b,c,d){return a===d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b}, easeinout:function(a,b,c,d){return 0===a?b:a===d?b+c:1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b}}},ya={linear:{easenone:"0.250, 0.250, 0.750, 0.750",easein:"0.420, 0.000, 1.000, 1.000",easeout:"0.000, 0.000, 0.580, 1.000",easeinout:"0.420, 0.000, 0.580, 1.000"},quint:{easein:"0.755, 0.050, 0.855, 0.060",easeout:"0.230, 1.000, 0.320, 1.000",easeinout:"0.860, 0.000, 0.070, 1.000"},quad:{easein:"0.550, 0.085, 0.680, 0.530",easeout:"0.250, 0.460, 0.450, 0.940",easeinout:"0.455, 0.030, 0.515, 0.955"}, quart:{easein:"0.895, 0.030, 0.685, 0.220",easeout:"0.165, 0.840, 0.440, 1.000",easeinout:"0.770, 0.000, 0.175, 1.000"},cubic:{easein:"0.550, 0.055, 0.675, 0.190",easeout:"0.215, 0.610, 0.355, 1.000",easeinout:"0.645, 0.045, 0.355, 1.000"},circ:{easein:"0.600, 0.040, 0.980, 0.335",easeout:"0.075, 0.820, 0.165, 1.000",easeinout:"0.785, 0.135, 0.150, 0.860"},sine:{easein:"0.470, 0.000, 0.745, 0.715",easeout:"0.390, 0.575, 0.565, 1.000",easeinout:"0.445, 0.050, 0.550, 0.950"},expo:{easein:"0.950, 0.050, 0.795, 0.035", easeout:"0.190, 1.000, 0.220, 1.000",easeinout:"1.000, 0.000, 0.000, 1.000"}};f=t=null})(window);(function(l){function h(a,b){b||(delete a.swipeLeft,delete a.swipeRight,delete a.stopProp);delete a.newPageX;delete a.pageX}function g(a){var b=a.touches?a.touches[0]:a;this.stopProp&&a.stopImmediatePropagation();this.pageX=b.pageX;this.addEventListener(e,i);this.addEventListener(f,j)}function j(a){var b=this.newPageX=(a.touches?a.touches[0]:a).pageX;10<Math.abs(this.pageX-b)&&a.preventDefault()}function i(){var a=this.newPageX,b=this.pageX,c=this.cjThumbs;this.removeEventListener(f,j);this.removeEventListener(e, i);30>Math.abs(b-a)||(c||this.removeEventListener(d,g),b>a?this.swipeLeft&&(a=this.swipeLeft,h(this,c),a()):this.swipeRight&&(a=this.swipeRight,h(this,c),a(1)))}var e,f,d,k={touchSwipe:function(a,b){k.touchSwipeLeft(a,b);k.touchSwipeRight(a,b)},touchSwipeLeft:function(a,b,c){c&&(a.stopProp=!0);a.swipeLeft||(a.swipeLeft=b);a.swipeRight||a.addEventListener(d,g)},touchSwipeRight:function(a,b,c){c&&(a.stopProp=!0);a.swipeRight||(a.swipeRight=b);a.swipeLeft||a.addEventListener(d,g)},unbindSwipe:function(a){a.removeEventListener(d, g);a.removeEventListener(f,j);a.removeEventListener(e,i);h(a)}};"ontouchend"in document?(e="touchend",f="touchmove",d="touchstart"):(e="mouseup",f="mousemove",d="mousedown");l.fn.cjSwipe=function(a,b,c){k[a](this[0],b,c)}})(jQuery);(function(c){function nb(){C=c(window);Zb=c("body");ob=c("body, html");p=c("<div />").addClass("jackbox-modal");k=c("<div />").addClass("jackbox-holder");ba=c("<div />").addClass("jackbox-wrapper");Q=c("<div />").addClass("jackbox-preloader");ca=c("<span />").addClass("jackbox-panel jackbox-panel-left");ma=c("<span />").addClass("jackbox-panel jackbox-panel-right");var a=l.createDocumentFragment();a.appendChild(ba[0]);a.appendChild(Q[0]);p[0].appendChild(a);a=l.createDocumentFragment();a.appendChild(ca[0]); a.appendChild(ma[0]);a.appendChild(k[0]);ba[0].appendChild(a);da=c("<div />").addClass("jackbox-container");na||(a=c("<span />").addClass("jackbox-pre-outside").appendTo(Q),c("<span />").addClass("jackbox-pre-inside").appendTo(a));oa*=2;Ta=0;a=l.createDocumentFragment();pb&&(w=c(pb).hide(),a.appendChild(w[0]));a.appendChild(da[0]);qb&&(x=c(qb).hide(),a.appendChild(x[0]));k[0].appendChild(a);rb=-(z+za);pa=[];Fa=[];E=[];F=[];sb.each($c);N&&(c.address.internalChange(tb),c.address.externalChange(ad)); $b=!0;Ga&&(N?setTimeout(Ga,250):Ga(),Ga=null);sb=Fa=pb=qb=pa=null}function $c(){var a=c(this).attr("data-group").split(" ").join("").toLowerCase();if(na){for(var b=F.length,e=!1;b--;)if(F[b]===a){e=!0;break}e||ac(a)}else-1===F.indexOf(a)&&ac(a)}function ac(a){F[F.length]=a;Fa=[];c(".jackbox[data-group="+a+"]").each(bc);E[E.length]=Fa;Ua++}function bc(a){isNaN(a)?f=a:(f=c(this).data({id:a,cat:Ua}),Fa[a]=f);if(h=f.attr("href")||f.attr("data-href")){var b,a="#"!==h.charAt(0)?h.toLowerCase().split(".").pop(): "inline";if(b=-1!==h.search("youtube.com")?"youtube":-1!==h.search("vimeo.com")?"vimeo":"mp4"===a?"local":!1){if(f.data("type",b),!f.attr("data-thumbnail"))if("vimeo"===b){var e=f;c.getJSON("http://vimeo.com/api/v2/video/"+h.split("http://vimeo.com/")[1]+".json?callback=?",{format:"json"},function(a){e.attr("data-thumbnail",a[0].thumbnail_small)})}else"youtube"===b&&f.attr("data-thumbnail","http://img.youtube.com/vi/"+h.split("http://www.youtube.com/watch?v=")[1]+"/1.jpg")}else if("jpg"===a||"png"=== a||"jpeg"===a||"gif"===a)f.data("type","image");else switch(a){case "mp3":f.data("type","audio");break;case "swf":f.data("type","swf");break;case "inline":f.data("type","inline");break;default:f.data("type","iframe")}f.on("click.jackbox",bd);if(I=f.attr("data-description")){if(pa)if(a=pa.indexOf(I),-1===a){I=c(I);if(!I.length)return;pa[pa.length]=I}else I=pa[a];else if(I=c(I),!I.length)return;f.data("description",I)}}}function ad(a){if(dc){dc=!1;var b=l.URL.split("?url=");if(2===b.length){window.location= b[0]+"#/"+b[1];return}}clearTimeout(Ha);ec(a.value);-1!==A?fc?(fc=!1,tb()):Ha=setTimeout(tb,750):R&&ub()}function tb(a){"object"===typeof a&&(clearTimeout(Ha),ec(a.value));-1!==A?gc():R&&ub()}function ec(a){G&&(!ea&&!Aa)&&q[d].removeClass("jb-thumb-active");"/"!==a?(a=a.split("/"),3===a.length?(d=parseInt(a[2],10)-1,isNaN(d)&&(d=0),fa=a[1]):isNaN(a[1])?(d=0,fa=a[1]):(d=parseInt(a[1],10)-1,fa="/")):(fa="/",d=0);if("/"!==fa)for(a=Ua;a--;){if(F[a]===fa){A=a;J=E[A].length;O=1!==J;break}}else A=-1;Aa= !1}function Va(){clearTimeout(hc);hc=setTimeout(ga,100)}function bd(a){a.stopPropagation();a.preventDefault();a=c(this).data();Wa(a.cat,a.id,!0)}function Wa(a,b,e){clearTimeout(Ha);if(!e){if(G)for(e=q.length;e--;)q[e].off("click.jackbox");ca.off(".jackbox");ma.off(".jackbox");t&&vb&&i.cjSwipe("unbindSwipe")}N?c.address.value(F[a]+"/"+(b+1)):(G&&(!ea&&!Aa)&&q[d].removeClass("jb-thumb-active"),d=b,A=a,J=E[A].length,O=1!==J,gc())}function wb(a){if(a&&(a.stopPropagation(),Ia))return!1;R&&(G&&!ea&&q[d].removeClass("jb-thumb-active"), d<E[A].length-1?d++:d=0,Aa=!0,Wa(A,d))}function xb(a){if(a&&(a.stopPropagation(),Ia))return!1;R&&(G&&!ea&&q[d].removeClass("jb-thumb-active"),0<d?d--:d=E[A].length-1,Aa=!0,Wa(A,d))}function ic(){for(var a=[p[0],ba[0],k[0],da[0]],b=4;b--;)a[b].removeEventListener("touchstart",B,!1),a[b].removeEventListener("touchmove",B,!1),a[b].removeEventListener("touchend",B,!1)}function gc(){Xa=E[A];if(f=Xa[d]){if(t)for(var a=[p[0],ba[0],k[0],da[0]],b=4;b--;)a[b].addEventListener("touchstart",B,!1),a[b].addEventListener("touchmove", B,!1),a[b].addEventListener("touchend",B,!1);h=f.attr("href")||f.attr("data-href");R?(Ia=!0,jc(),kc()):(R=!0,t?l.addEventListener("touchmove",B,!1):(ob.stop(),Ta=C.scrollTop()),p.appendTo(Zb).one("click.jackbox",lc),mc=p.parents().each(cd),nc||(nc=!0,yb=parseInt(k.css("padding-left"),10)+parseInt(k.css("padding-right"),10),Ja=parseInt(k.css("padding-top"),10)+parseInt(k.css("padding-bottom"),10),oc=parseInt(ca.css("width"),10)+14,Ya=Ja+oa,zb=z+(za<<1),Za=parseInt(Q.css("margin-top"),10),pc=Za-(zb>> 1),qc=parseInt(k.css("padding-left"),10),rc=parseInt(k.css("padding-top"),10),K=c(".jackbox-fullscreen"),K.length||(K=null),qa=!t&&"safari"!==$a&&("webkitRequestFullScreen"in p[0]||"mozFullScreenEnabled"in l)),ha=!Ab&&ab&&O?0:rb,D=C.width(),L=C.height(),k.css({width:D,height:L,marginLeft:-(D>>1)-qc,marginTop:-(L>>1)-rc}),Jacked.fadeIn(p[0],{callback:dd}),sc=setTimeout(kc,250),ba.on("click.jackbox",tc))}}function cd(){c(this).addClass("jackbox-overflow")}function ed(){c(this).removeClass("jackbox-overflow")} function dd(){C[0].scrollTo(0,0)}function kc(){G&&(q[d].addClass("jb-thumb-active"),ea?ea=!1:Bb(!1,!0));var a=f.attr("data-autoplay")?f.attr("data-autoplay"):uc,b=f.data("description")||null,e=f.attr("data-title")||"",cc;bb="true"===f.attr("data-scaleUp");cb=b?b.html():!1;S=f.data("type");e?(Cb=e,ia=escape(Cb)):(ia=!1,"undefined"!==typeof y&&(y.data("links")&&y.data("links").off(".jackbox"),y.empty()));t&&(vb="image"===S||"inline"===S);"image"!==S&&vc();568<D?Q.css("margin-top",0===ha?pc:Za):Q.css("margin-top", Za);ba.show();Q.addClass("jackbox-spin-preloader");switch(S){case "image":Ka=!0;i=c("<img />").addClass("jackbox-content").one("load.jackbox",La).prependTo(da);t&&(i[0].addEventListener("touchstart",B,!1),i[0].addEventListener("touchmove",B,!1),i[0].addEventListener("touchend",B,!1));i.attr("src",h);break;case "youtube":ra(fd.split("{url}").join(h.split("watch?v=")[1]).split("{autoplay}").join("true"===a?1:0));break;case "vimeo":ra(gd.split("{url}").join(h.substring(h.lastIndexOf("/"))).split("{autoplay}").join(a)); break;case "local":b=Db();e=f.attr("data-flashHasPriority")?f.attr("data-flashHasPriority"):wc.toString();cc="false"===e&&qa&&"firefox"!==$a;b=f.attr("data-poster")?b+f.attr("data-poster"):"false";ra(hd+"?video="+h+"&autoplay="+a+"&flashing="+e+"&width="+T+"&height="+U+"&poster="+b,!0);break;case "audio":Db();ra(id+"?audio="+h+"&title="+(f.attr("data-audiotitle")?f.attr("data-audiotitle"):ia)+"&autoplay="+a);break;case "swf":Db();ra(jd+"?swf="+h+"&width="+(j.toString()+"&height="+g.toString()));break; case "inline":a=c(h);i=c("<div />").addClass("jackbox-content jackbox-html").html(a.length?a.html():"").prependTo(da);i.css("width",j);f.attr("data-height",i.outerHeight(!0));vc();La();break;default:ra(h,!1,!0)}qa&&(!cc?K.show():K.hide())}function Db(){if(-1===h.search("http")){var a=l.URL.split("#")[0];"/"!==a[a.length-1]&&(a=a.substring(0,a.lastIndexOf("/")+1));h=a+h;return a}}function kd(){ja.css("visibility","hidden")}function ld(){n.data("offLeft",n.offset().left)}function xc(){Ba.css({opacity:0, visibility:"hidden"})}function yc(a){"object"===typeof a&&a.stopPropagation();r<J-ka&&(r++,db(!1,!0))}function zc(a){"object"===typeof a&&a.stopPropagation();0<r&&(r--,db(!1,!0))}function md(a){a.stopPropagation();a=c(this).parent();a.addClass("jb-thumb-fadein");t||a.addClass("jb-thumb-hover");a.data("id")===d&&a.addClass("jb-thumb-active")}function Ac(a){a.stopPropagation();if(Ia)return!1;a=c(this).data("id");a!==d&&(G&&q[d].removeClass("jb-thumb-active"),d=a,ea=!0,Wa(A,d))}function nd(){Ma?Bc(): (C.off(".jackbox"),Ma=!0,l.mozFullScreenEnabled?(l.addEventListener("mozfullscreenchange",eb,!1),p[0].mozRequestFullScreen()):p[0].webkitRequestFullScreen&&(l.addEventListener("webkitfullscreenchange",eb,!1),p[0].webkitRequestFullScreen()))}function eb(){l.webkitIsFullScreen||l.mozFullScreen?ga():Bc(!0)}function Eb(a){l.removeEventListener(a.type,Eb,!1);ga();C.on("resize.jackbox",Va)}function Bc(a){Ma=!1;l.mozFullScreenEnabled?(l.removeEventListener("mozfullscreenchange",eb,!1),a?(ga(),C.on("resize.jackbox", Va)):(l.addEventListener("mozfullscreenchange",Eb,!1),l.mozCancelFullScreen())):p[0].webkitRequestFullScreen&&(l.removeEventListener("webkitfullscreenchange",eb,!1),a?(ga(),C.on("resize.jackbox",Va)):(l.addEventListener("webkitfullscreenchange",Eb,!1),l.webkitCancelFullScreen()))}function vc(){Ka=!1;T=f.attr("data-width")?parseInt(f.attr("data-width"),10):Cc;U=f.attr("data-height")?parseInt(f.attr("data-height"),10):Dc;bb="true"===f.attr("data-scaleUp");Ec()}function Ec(){fb=T+yb+oc+oa;Fb=U+Ya;ga("true")} function jc(){clearTimeout(sc);Jacked.stopTween(k[0]);C.off(".jackbox");i&&(Jacked.stopTween(i[0]),i.remove(),i=null);gb&&(gb.remove(),gb=null);w&&(Jacked.stopTween(w[0],!0),w.hide());x&&(Jacked.stopTween(x[0],!0),x.hide());s&&(s.removeClass("jb-info-inactive"),Jacked.stopTween(H[0]),H.empty().hide())}function lc(a){a.stopPropagation();N?c.address.value(""):ub()}function ub(){clearTimeout(Ha);jc();p.unbind(".jackbox");if(O){sa&&sa.off(".jackbox");ta&&ta.off(".jackbox");Na&&n&&n.off(".jackbox");Jacked.stopTween(ma[0], !0);Jacked.stopTween(ca[0],!0);var a={opacity:0,visibility:"hidden"};ma.off(".jackbox").css(a);ca.off(".jackbox").css(a)}else ua&&ua.show(),u&&u.show();ba.hide().off(".jackbox");Q.removeClass("jackbox-spin-preloader");"undefined"!==typeof y&&(y.data("links")&&y.data("links").off(".jackbox"),y.empty());qa&&K.off(".jackbox");va&&va.unbind(".jackbox");s&&s.off(".jackbox");if(G){Jacked.stopTween(V[0]);for(V.off(".jackbox").hide();q.length;)a=q[0],Jacked.stopTween(a[0]),a.remove(),q.shift();W.off(".jackbox").hide(); X.off(".jackbox").hide();t&&n.cjSwipe("unbindSwipe");Jacked.stopTween(M[0]);M.empty().css("margin-left",0);u&&(u.off(".jackbox"),u&&(P.hide(),Y.show()));G=q=null}mc.each(ed);Jacked.fadeOut(p[0],{duration:1E3,callback:od});k.css({marginLeft:pd,marginTop:qd});t?(ic(),l.removeEventListener("touchmove",B,!1)):setTimeout(rd,10);ja&&ja.css("visibility","hidden");f=R=Ma=ea=Gb=hb=Aa=Hb=Ca=null}function rd(){0!==Ta&&ob.animate({scrollTop:Ta},{duration:300,queue:!1})}function od(){p.detach()}function sd(a){!a? wb():xb()}function B(a){a.preventDefault()}function td(a,b){if(!R&&"success"===b.toLowerCase()&&a){var e=a.length,f=document.URL;for(f.substring(0,f.lastIndexOf("/"));e--;)c("<img />").attr("src",Fc+"/"+a[e].split("../").join(""))}}function ud(){var a=c(this),b=a.next("img"),e=b.attr("src");b.length&&(a=c("<img />").attr({width:b.attr("width"),height:b.attr("height")}).data("parent",a).one("load.jackbox",vd).insertAfter(b),b.remove(),a.attr("src",e))}function vd(){var a=c(this),b=a.data("parent"), e=parseInt(b.css("width"),10)||b.width(),f=parseInt(b.css("height"),10)||b.height(),b=c("<canvas />").addClass("jackbox-canvas-blur").attr({width:e,height:f}).insertBefore(b),f=Date.now(),e=f+1,f=f+2;a.attr("id",e);b.attr("id",f);StackBlurImage(e,f,29)}function wd(){var a=c(this);a.parent().data({tip:a,tipWidth:a.width()-27,tipHeight:a.height()+17}).on("mouseenter.jackbox",xd).on("mouseleave.jackbox",yd)}function xd(){var a=c(this),b=a.offset(),e=a.data();e.tipX=b.left;e.tipY=b.top;e.tip.css({opacity:1, visibility:"visible"});a.on("mousemove.jackbox",Gc)}function yd(){var a=c(this).off("mousemove.jackbox");na?a.data("tip").css("opacity",0):a.data("tip").css({opacity:0,visibility:"hidden"})}function zd(a){a.stopImmediatePropagation()}function tc(a){c(a.target).is("a")||(a.stopPropagation(),a.preventDefault())}var v={useThumbs:!0,deepLinking:!0,autoPlayVideo:!1,flashVideoFirst:!1,defaultVideoWidth:960,defaultVideoHeight:540,thumbnailWidth:75,thumbnailHeight:50,useThumbTooltips:!0,preloadGraphics:!0, showInfoByDefault:!1,thumbsStartHidden:!1,fullscreenScalesContent:!0,defaultShareImage:"jackbox/img/default_share.jpg"},oa=10,za=2,Fc="jackbox",Ad=Fc+"/php/graphics.php",jd="jackbox/modules/jackbox_swf.html",hd="jackbox/modules/jackbox_video.html",id="jackbox/modules/jackbox_audio.html",gd="http://player.vimeo.com/video{url}?title=0&byline=0&portrait=0&autoplay={autoplay}&color=FFFFFF&wmode=transparent",fd="http://www.youtube.com/embed/{url}?autoplay={autoplay}&autohide=1&hd=1&iv_load_policy=3&showinfo=0&showsearch=0&wmode=transparent", pb='<div class="jackbox-top clearfix"><div class="jackbox-social"></div><div class="jackbox-top-icons"><span class="jackbox-fullscreen"><span class="jackbox-button jackbox-fs"></span><span class="jackbox-button jackbox-ns"></span></span><span class="jackbox-button jackbox-button-margin jackbox-close"></span></div><div />',qb='<div class="jackbox-bottom clearfix"><div class="jackbox-controls"><span class="jackbox-button jackbox-arrow-left"></span><span class="jackbox-button jackbox-arrow-right"></span></div><div class="jackbox-title-text"><span class="jb-current"></span><span class="jb-divider">/</span><span class="jb-total"></span><span class="jackbox-title-txt"></span></div><div class="jackbox-bottom-icons"><span class="jackbox-button jackbox-info"></span><span class="jackbox-button-margin jackbox-button-thumbs"><span class="jackbox-button jackbox-hide-thumbs"></span><span class="jackbox-button jackbox-show-thumbs"></span></span></div></div>', hc,x,qa,qc,rc,Ib,zb,ib,rb,Ma,Jb,Hc,Ja,yb,Ic,ja,oc,Kb,M,n,Lb,X,w,H,Z,P,Y,ma,K,Ta,ca,ia,W,da,Q,ka,pa,Mb,Cb,vb,Ca,Ba,ha,u,va,cb,ua,Jc,Na,Kc,wa,Da,r,ba,xa,ta,O,Za,sa,bb,Lc,t,Ya,jb,Oa,p,y,f,Fa,s,l,h,j,C,J,Mc,F,g,fa,E,na,ya,Nb,sc,Ga,q,Zb,k,sb,T,kb,Ha,Nc,i,U,Ka,D,L,fb,Fb,S,mc,$a,$,I,R,nc,ob,ab,Ia,ea,G,qd,Gb,Xa,N,Pa,gb,V,hb,pc,pd,Oc,Aa,Ob,Hb,uc,aa,$b,z,wc,Pc,Qc,Ab,Cc,Dc,d=1,A=-1,Ua=0,fc=!0,dc=!0,Rc={init:function(a,b){!Oc&&"undefined"!==typeof Jacked&&(b&&c.extend(v,b),ab=v.useThumbs,N=v.deepLinking,Na=v.useThumbTooltips, uc=v.autoPlayVideo,aa=v.thumbnailWidth,Nc=v.fullscreenScalesContent,z=v.thumbnailHeight,wc=v.flashVideoFirst,Qc=v.showInfoByDefault,Ab=v.thumbsStartHidden,Pc=v.defaultShareImage,Cc=v.defaultVideoWidth,Dc=v.defaultVideoHeight,l=document,Oc=!0,$=aa+za,kb=-1!==l.URL.search("file:///"),Jacked.setEngines({ios:!0,safari:!0,opera:!0,firefox:!0}),v.preloadGraphics&&!kb&&c.getJSON(Ad+"?path=../img/graphics/",td),sb=a,v=null,na=Jacked.getIE(),t=Jacked.getMobile(),$a=Jacked.getBrowser(),Mc="ie"===$a,"undefined"!== typeof c.address&&N?Mc?(nb(),c.address.update()):c.address.init(nb):(N=!1,nb()),"undefined"!==typeof StackBlurImage&&(!kb&&!na)&&c(".jackbox-hover-blur").each(ud),c(".jackbox-tooltip").each(wd))},frameReady:function(){R&&La()},newItem:function(a,b){var e=F.length,c=-1,f,d;if(b&&"object"===typeof b){var g,i,j;for(g in b)"trigger"!==g&&(i="data-"+g,j=b[g],a.attr(i,j),"group"===g&&(d=j))}else b=null;d||(d=a.attr("data-group"));if(d){for(d=d.split(" ").join("").toLowerCase();e--;)if(F[e]===d){c=e;break}if(-1< c){d=E[c];-1!==d.indexOf(a)&&(a.trigger("click"),f=!0);if(f)return;e=d.length;d[e]=a}else c=F.length,e=E.length,F[c]=d,Ua++,E[e]=[a],e=0;bc(a);a.data({id:e,cat:c});b&&b.trigger&&a.trigger("click")}}},ra,lb={type:"text/html",frameborder:0,mozallowfullscreen:"mozallowfullscreen",webkitallowfullscreen:"webkitallowfullscreen",allowfullscreen:"allowfullscreen"};ra=function(a,b,e){lb.width=j;lb.height=g;lb.scrolling=!e?"no":"auto";i=c("<iframe />").attr(lb).addClass("jackbox-content").prependTo(da);if(!b)i.one("load.jackbox", La);i.attr("src",a)};var La,Pb={};La=function(a){a&&a.stopPropagation();Ka&&(T=this.width||i.width(),U=this.height||i.height(),Ec());Pb.width=j;Pb.height=g;i.css(Pb);Qb(!0);Jb&&Jb();C.on("resize.jackbox",Va)};var Qb,la={},Ea={},Qa={};Qb=function(a){if(a){260>j&&(ya+=260-j);a=Math.max(j,260);if(a===Ca&&g===Mb){Rb();return}la.callback=Rb;la.duration=Ca?50<Math.abs(a-Ca)||50<Math.abs(g-Mb)?600:300:600}else a=j,Qa.width=a,la.duration=300,delete la.callback,w&&Jacked.tween(w[0],Qa,la),x&&Jacked.tween(x[0], Qa,la),Qa.height=g,Jacked.stopTween(i[0],!0),Jacked.tween(i[0],Qa,la);Ea.marginLeft=-((ya>>1)+0.5|0);Ea.marginTop=-((Nb>>1)+0.5|0);Ea.height=g;Ea.width=a;Ca||(Ea.opacity=1);Jacked.tween(k[0],Ea,la);Ca=a;Mb=g};var Rb,Ra={},Sc={opacity:1,visibility:"visible"};Rb=function(){Tc();Q.removeClass("jackbox-spin-preloader");var a=Math.max(j,260);Ra.duration=600;Ka&&!na?Jacked.fadeIn(i[0],Ra):(i.show(),("audio"===S||"local"===S)&&i[0].contentWindow.cjInit());Ra.duration=300;na?(w&&w.css("width",a).show(),x&& x.css("width",a).show()):(w&&(w.css("width",a),Jacked.fadeIn(w[0],Ra)),x&&(x.css("width",a),Jacked.fadeIn(x[0],Ra)));s&&cb?(s.show(),H.html(cb).show(),Z=-H.outerHeight(),ja.css("height",-Z<g?-Z:g),Qc?(Da=!0,s.addClass("jb-info-inactive"),H.css("margin-top",0)):(Da=!1,H.css("margin-top",Z))):s&&(s.hide(),H.hide());Ia=!1;!hb&&O&&(ca.css(Sc),ma.css(Sc));if(!Hb&&ab&&O){var a=E[A],b=[],e=J,f,d,h,m,k;for(Hb=!0;e--;)h=a[e],h.attr("data-thumbnail")?b[e]=!1:(f=h.children("img"),f.length?(h.attr("data-thumbnail", f.attr("src")),b[e]=f):("image"===h.data("type")?h.attr("data-thumbnail",h.attr("href")||h.attr("data-href")):h.attr("data-thumbnail","jackbox/img/thumbs/default.jpg"),b[e]=!1));q=[];V||(e=l.createDocumentFragment(),h=z>>1,V=c("<div />").addClass("jackbox-thumb-holder").css("height",z).appendTo(p),n=c("<div />").addClass("jackbox-thumb-panel").css("height",z),X=c("<div />").addClass("jackbox-thumb-right"),W=c("<div />").addClass("jackbox-thumb-left"),e.appendChild(n[0]),e.appendChild(X[0]),e.appendChild(W[0]), n[0].cjThumbs=!0,V[0].appendChild(e),M=c("<div />").addClass("jackbox-thumb-strip").appendTo(n),W.css("top",h),X.css("top",h));h=l.createDocumentFragment();for(e=0;e<J;e++){d=q[e]=c("<div />").data("id",e).addClass("jackbox-thumb").css({width:aa,height:z,left:$*e}).on("click.jackbox",Ac);if(Na&&(f=Xa[e].attr("data-thumbTooltip")||Xa[e].attr("data-title")))d.data("theTitle",f).on("mouseenter.jackbox",Uc).on("mouseleave.jackbox",xc);h.appendChild(d[0]);f=c("<img />").addClass("jb-thumb").one("load.jackbox", md).appendTo(d);d.data("theThumb",f);b[e]?(d=b[e].attr("width")||b[e].width(),m=b[e].attr("height")||b[e].height()):(d=aa,m=z);d>aa&&m>z&&(k=d>m?aa/d:z/m,d*=k,m*=k,m<z&&(k=(z-m)/z,d+=d*k,m+=m*k),d<aa&&(k=(aa-d)/aa,d+=d*k,m+=m*k),d!==(d|0)&&(d=d+1|0),m!==(m|0)&&(m=m+1|0));f.attr({width:d,height:m,src:a[e].attr("data-thumbnail")})}M[0].appendChild(h);Ic=q.length;Lb=$*e;G=!0;r=0;V.on("click.jackbox",tc).show();Sb();u&&(Ab?(Y.hide(),P.show(),V.css("bottom",ha)):(P.hide(),Y.show(),V.css("bottom",0)),u.on("click.jackbox", Vc))}if(!hb){hb=!0;if(qa)K.on("click.jackbox",nd);if(va)va.one("click.jackbox",lc);if(s)s.on("click.jackbox",Wc);if(O){if(ta)ta.on("click.jackbox",wb);if(sa)sa.on("click.jackbox",xb);if(Na&&n)n.on("mouseenter.jackbox",ld)}}t&&(i[0].removeEventListener("touchstart",B,!1),i[0].removeEventListener("touchmove",B,!1),i[0].removeEventListener("touchend",B,!1),ic());if(O){if(G)for(a=q.length;a--;)q[a].on("click.jackbox",Ac);ca.on("click.jackbox",xb);ma.on("click.jackbox",wb);t&&vb&&i.cjSwipe("touchSwipe", sd)}};var Tc,mb={type:"text/html",frameborder:0,mozallowfullscreen:"mozallowfullscreen",webkitallowfullscreen:"webkitallowfullscreen",allowfullscreen:"allowfullscreen",scrolling:"no"};Tc=function(){if(!Jc){Jc=!0;Oa=c(".jb-total");s=c(".jackbox-info");wa=c(".jb-divider");xa=c(".jb-current");va=c(".jackbox-close");jb=c(".jackbox-title-text");y=c(".jackbox-title-txt");ua=c(".jackbox-controls");sa=c(".jackbox-arrow-left");Pa=c(".jackbox-social");ta=c(".jackbox-arrow-right");u=c(".jackbox-button-thumbs"); P=c(".jackbox-show-thumbs");Y=c(".jackbox-hide-thumbs");y.length||(y=null);jb.length||(jb=null);sa.length||(sa=null);wa.length||(wa=null);ta.length||(ta=null);ua.length||(ua=null);va.length||(va=null);Pa.length||(Pa=null);if(!xa.length||!Oa.length)xa=null;qa?(c(".jackbox-ns").hide(),K.length||(K=qa=null)):K&&K.hide();ab?u.length&&P.length&&Y.length?P.hide():u=P=Y=null:(u.hide(),u=P=Y=null);s.length?(ja=c("<div />").addClass("jackbox-info-text").appendTo(da).css("visibility","hidden"),H=c("<div />").addClass("jackbox-description-text").appendTo(ja)): s=null;Na&&(Ba=c("<span />").addClass("jackbox-thumb-tip").css("bottom",z),Ib=c("<span />").addClass("jackbox-thumb-tip-text").text("render me").appendTo(Ba),Ba.appendTo(p),Hc=(parseInt(Ba.css("padding-left"),10)<<1)-(za<<1))}O||(ua&&ua.hide(),u&&u.hide());if(jb){"false"===ia&&(ia=!1);var a=y&&ia,b=a?" -&nbsp;":"";xa&&O?(xa.text(d+1).show(),Oa.html(J+b).show(),wa&&wa.show()):(Oa&&Oa.hide(),xa&&xa.hide(),wa&&wa.hide());a&&(y.html(Cb),a=y.children("a"),a.length&&(a.on("click.jackbox",zd),y.data("links", a)))}if(Pa&&!kb){var e,a=l.URL.split("#")[0],b=a.length-1;-1!==a.search("/")&&("/"!==a.charAt(b)?(N?e=a+"#/"+fa+"/"+(d+1):e=a,a=a.substring(0,a.lastIndexOf("/"))):(a=a.substring(0,b),N?e=a+"/#/"+fa+"/"+(d+1):e=a));Ka?b=f.attr("href")||f.attr("data-href"):(b=f.children("img"),b=b.length?b.attr("src"):Pc);-1===b.search("http")&&(b="/"!==b.charAt(0)?a+"/"+b:a+b);mb.width=200;mb.height=21;mb.src="jackbox/modules/jackbox_social.php?url="+encodeURIComponent(e)+"&poster="+b+"&title="+(ia?escape(ia.replace(/(<([^>]+)>)/ig, "")):escape(l.title));gb=c("<iframe />").attr(mb).appendTo(Pa)}};var Wc,Tb={},Ub={duration:300};Wc=function(a){a&&a.stopPropagation();Da?(Tb.marginTop=Z,Ub.callback=kd,s.removeClass("jb-info-inactive")):(s.addClass("jb-info-inactive"),ja.css("visibility","visible"),Tb.marginTop=0,delete Ub.callback);Jacked.tween(H[0],Tb,Ub);Da=!Da};var Uc,Vb={opacity:1,visibility:"visible"};Uc=function(){t&&(clearTimeout(Lc),Lc=setTimeout(xc,2E3));var a=c(this),b,e,d;Ib.text(a.data("theTitle"));b=parseInt(Ib.css("width"), 10);d=n.data("offLeft");a=a.offset().left;e=d+n.width()-b-Hc;Vb.width=b;Vb.left=a<d?d:a>e?e:a;Ba.css(Vb)};var Vc,Xc={},Bd={duration:300};Vc=function(a){a.stopPropagation();0===ha?(ha=rb,u&&(Y.hide(),P.show())):(ha=0,u&&(P.hide(),Y.show()));Xc.bottom=ha;Jacked.tween(V[0],Xc,Bd);569>D||(ga("true"),Qb())};var Sb,Wb={};Sb=function(a){var b=D-160;Lb<b?(ka=Ic,Ob=!1):(ka=b/$|0,Ob=!0);ib=$*ka-za;Kb=ka-1;Wb.marginLeft=-(ib>>1)-za;Wb.width=ib;n.css(Wb);M.css("width",Lb);Bb(a)};var Bb,Yc={},Cd={duration:300}; Bb=function(a,b){if(a)r=d,0!==d&&d+ka>J&&(r=J-ka),Jacked.stopTween(M[0]),M.css("left",r*-$);else{if(0===d)r=0;else if(d>r+Kb)for(;d>r+Kb;)r++;b?(Yc.left=r*-$,Jacked.tween(M[0],Yc,Cd)):(Jacked.stopTween(M[0]),M.css("left",r*-$))}db(a,!1)};var db,Zc={},Dd={duration:300};db=function(a,b){W.off(".jackbox");X.off(".jackbox");if(Ob)if(t&&n.cjSwipe("unbindSwipe"),r<J-ka?(X.on("click.jackbox",yc).show(),t&&n.cjSwipe("touchSwipeLeft",yc,!0)):X.hide(),0<r?(W.on("click.jackbox",zc).show(),t&&n.cjSwipe("touchSwipeRight", zc,!0)):W.hide(),b)Zc.left=r*-$,Jacked.tween(M[0],Zc,Dd);else{if(a||!Gb){var c=n.offset().left;W.css("left",c);X.css("left",c+ib);Gb=!0}}else W.hide(),X.hide()};var ga,Xb={opacity:1},Sa={};ga=function(a){D=C.width();L=Math.max(C.height(),226);var b=568<D&&0===ha?zb:0;Kc="audio"!==S&&"inline"!==S?!Ma?bb:bb||Nc:!1;if(fb<D&&Fb+b<L&&!Kc)j=T,g=U;else{j=D/fb;g=L/Fb;var c=j>g?g:j;j=T*c;g=U*c;D>L?g+Ya+b>L&&(g=L-Ja-oa-b,j=T*(g/U)):j>g?j+fb>D&&(j=D-oa,g=U*(j/T)):g+Ya+b>L&&(g=L-Ja-oa-b,j=T*(g/U));j!==(j|0)&& (j=j+1|0);g!==(g|0)&&(g=g+1|0)}ya=j+yb;Nb=g+Ja+b;"true"!==a&&(Jacked.stopTween(k[0],!1,!0),i&&Jacked.stopTween(i[0],!0,!0),260>j&&(ya+=260-j),a=Math.max(260,j),Xb.width=a,Xb.height=g,Sa.marginLeft=-(0.5*ya+0.5|0),Sa.marginTop=-(0.5*Nb+0.5|0),Sa.width=a,Sa.height=g,k.css(Sa),i.css(Xb),x&&(Jacked.stopTween(x[0]),x.css("width",a)),w&&(Jacked.stopTween(w[0]),w.css("width",a)),s&&cb&&(Z=-H.outerHeight(),ja.css("height",-Z<g?-Z:g),Da||(Jacked.stopTween(H[0],!1,!0),H.css("margin-top",Z))),G&&Sb(!0))};var Gc, Yb={};Gc=function(a){var b=c(this).data();Yb.left=a.pageX-b.tipX-b.tipWidth;Yb.top=a.pageY-b.tipY-b.tipHeight;b.tip.css(Yb)};c.fn.jackBox=function(a,b){if(Rc.hasOwnProperty(a))Rc[a](this,b)};c.jackBox={available:function(a){a&&($b?N?setTimeout(a,250):a():Ga=a)},itemLoaded:function(a){Jb=a}}})(jQuery);function jackboxFrameReady(){jQuery.fn.jackBox("frameReady")};(function(){function I(){this.a=this.b=this.g=this.r=0;this.next=null}var K=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374, 367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312, 310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],L=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23, 23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];window.StackBlurImage=function(m,E,r){var y=document.getElementById(m),m=y.naturalWidth,w=y.naturalHeight,c=document.getElementById(E);c.style.width= m+"px";c.style.height=w+"px";c.width=m;c.height=w;c=c.getContext("2d");c.clearRect(0,0,m,w);c.drawImage(y,0,0);if(!(isNaN(r)||1>r))if(!(isNaN(r)||1>r)){var r=r|0,E=document.getElementById(E).getContext("2d"),y=E.getImageData(0,0,m,w),c=y.data,s,x,a,d,e,F,f,g,h,t,u,v,i,j,k,n,p,q,z,b=a=null,A=K[r],B=L[r];s=r+r+1;var G=m-1,H=w-1,l=r+1,C=l*(l+1)/2,D=new I,b=D;for(a=1;a<s;a++)if(b=b.next=new I,a==l)var J=b;b.next=D;for(x=F=e=0;x<w;x++){i=j=k=f=g=h=0;t=l*(n=c[e]);u=l*(p=c[e+1]);v=l*(q=c[e+2]);f+=C*n;g+= C*p;h+=C*q;b=D;for(a=0;a<l;a++)b.r=n,b.g=p,b.b=q,b=b.next;for(a=1;a<l;a++)d=e+((G<a?G:a)<<2),f+=(b.r=n=c[d])*(z=l-a),g+=(b.g=p=c[d+1])*z,h+=(b.b=q=c[d+2])*z,i+=n,j+=p,k+=q,b=b.next;a=D;b=J;for(s=0;s<m;s++)c[e]=f*A>>B,c[e+1]=g*A>>B,c[e+2]=h*A>>B,f-=t,g-=u,h-=v,t-=a.r,u-=a.g,v-=a.b,d=F+((d=s+r+1)<G?d:G)<<2,i+=a.r=c[d],j+=a.g=c[d+1],k+=a.b=c[d+2],f+=i,g+=j,h+=k,a=a.next,t+=n=b.r,u+=p=b.g,v+=q=b.b,i-=n,j-=p,k-=q,b=b.next,e+=4;F+=m}for(s=0;s<m;s++){j=k=i=g=h=f=0;e=s<<2;t=l*(n=c[e]);u=l*(p=c[e+1]);v=l* (q=c[e+2]);f+=C*n;g+=C*p;h+=C*q;b=D;for(a=0;a<l;a++)b.r=n,b.g=p,b.b=q,b=b.next;d=m;for(a=1;a<=r;a++)e=d+s<<2,f+=(b.r=n=c[e])*(z=l-a),g+=(b.g=p=c[e+1])*z,h+=(b.b=q=c[e+2])*z,i+=n,j+=p,k+=q,b=b.next,a<H&&(d+=m);e=s;a=D;b=J;for(x=0;x<w;x++)d=e<<2,c[d]=f*A>>B,c[d+1]=g*A>>B,c[d+2]=h*A>>B,f-=t,g-=u,h-=v,t-=a.r,u-=a.g,v-=a.b,d=s+((d=x+l)<H?d:H)*m<<2,f+=i+=a.r=c[d],g+=j+=a.g=c[d+1],h+=k+=a.b=c[d+2],a=a.next,t+=n=b.r,u+=p=b.g,v+=q=b.b,i-=n,j-=p,k-=q,b=b.next,e+=m}E.putImageData(y,0,0)}}})();